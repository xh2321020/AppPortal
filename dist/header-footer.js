!function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(14),r=n(o),a=i(13),s=n(a);new Vue({el:"header",components:{ComHeader:r["default"]}}),new Vue({el:"footer",components:{ComFooter:s["default"]}})},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var i=this[t];i[2]?e.push("@media "+i[2]+"{"+i[1]+"}"):e.push(i[1])}return e.join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(n[r]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&n[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),e.push(a))}},e}},function(e,t,i){function n(e,t){for(var i=0;i<e.length;i++){var n=e[i],o=d[n.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](n.parts[r]);for(;r<n.parts.length;r++)o.parts.push(l(n.parts[r],t))}else{for(var a=[],r=0;r<n.parts.length;r++)a.push(l(n.parts[r],t));d[n.id]={id:n.id,refs:1,parts:a}}}}function o(e){for(var t=[],i={},n=0;n<e.length;n++){var o=e[n],r=o[0],a=o[1],s=o[2],l=o[3],c={css:a,media:s,sourceMap:l};i[r]?i[r].parts.push(c):t.push(i[r]={id:r,parts:[c]})}return t}function r(e,t){var i=f(),n=v[v.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),v.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=v.indexOf(e);t>=0&&v.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",r(e,t),t}function l(e,t){var i,n,o;if(t.singleton){var r=g++;i=m||(m=s(t)),n=c.bind(null,i,r,!1),o=c.bind(null,i,r,!0)}else i=s(t),n=p.bind(null,i),o=function(){a(i)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}function c(e,t,i,n){var o=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=b(t,o);else{var r=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function p(e,t){var i=t.css,n=t.media,o=t.sourceMap;if(n&&e.setAttribute("media",n),o&&(i+="\n/*# sourceURL="+o.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var d={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},u=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),f=h(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,g=0,v=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=u()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var i=o(e);return n(i,t),function(e){for(var r=[],a=0;a<i.length;a++){var s=i[a],l=d[s.id];l.refs--,r.push(l)}if(e){var c=o(e);n(c,t)}for(var a=0;a<r.length;a++){var l=r[a];if(0===l.refs){for(var p=0;p<l.parts.length;p++)l.parts[p]();delete d[l.id]}}}};var b=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()},function(e,t,i){"use strict";var n=i(4),o=window.interfaceSettings.portalRequest;e.exports={data:function(){return{swiper_id:"swiper"+(new Date).getTime(),searchInputVal:"",username:"",list:[],depts:[],themes:[],deptsCount:0,themesCount:0,deptsOrigin:[],themesOrigin:[],isLogin:!1}},created:function(){var e=(0,n.getCookie)("userid"),t=(0,n.getCookie)("username");if(e&&""!=e&&t)window.userLogin={userid:e,username:t},this.isLogin=!0,this.username=t;else{var i=Base64.decode(location.search.substr(1)),r=i.indexOf("uid=");if(r>-1){e=i.substr(4,8),(0,n.setCookie)("userid",e,30,"/");var a=window.interfaceSettings.personalpageRequest,s=a.api.getMemberDetails+"?"+$.param($.extend({},a.header,{uid:e}));this.fetchUsername(s)}else this.isLogin=!1}var l=o.api.portalSectorUrl,c={URL:l,QueryString:"?"+$.param(o.header)};(0,n.fetchAjaxService)(c,this)},ready:function(){$("#depPortalNav").hover(function(e){$(this.querySelector(".nav-panel")).show()},function(){$(this.querySelector(".nav-panel")).hide()}),$("#comPortalNav").hover(function(e){$(this.querySelector(".nav-panel")).show()},function(){$(this.querySelector(".nav-panel")).hide()}),new Swiper("#"+this.swiper_id,{autoplay:5e3,autoplayDisableOnInteraction:!1,loop:!0,effect:"fade",calculateHeight:!0,speed:2e3}),document.getElementById("logoutIframe").onload=null},methods:{gotoWorkbench:function(){var e=window.location.href,t=location.protocol+"//"+location.host;e=t+"/pages/portal/workspace.html",e=Base64.encode(e),window.location.href="http://bjecm.cnnp.com.cn/pt/LoginServlet?url="+e},successNext:function(){for(var e=[],t=[],i=0,n=this.list.length;n>i;i++)"2"==this.list[i].hptype?e.push(this.list[i]):t.push(this.list[i]);this.themesOrigin=e,this.deptsOrigin=t,this.themes=e.length<=12?e:e.slice(0,12),this.depts=t.length<=12?t:t.slice(0,12),this.deptsCount=this.depts.length,this.themesCount=this.themes.length},turnMenuPage:function(e,t){var i=this[e+"Origin"],n=this[e+"Count"];if("left"==t){if(12>=n)return;n-=this[e].length,this[e]=i.slice(n-12,n),this[e+"Count"]=n}else{if(n==i.length)return;this[e]=i.slice(n,n+12),this[e+"Count"]=n+this[e].length}},doSearch:function(){var e="/pages/portal/news_search.html?keyWords="+this.searchInputVal;window.open(e)},loginIn:function(){window.location.href="http://bjecm.cnnp.com.cn/pt/LoginServlet?url="+Base64.encode(window.location.href)},loginOut:function(){delete window.userLogin,(0,n.deleteCookie)("userid"),(0,n.deleteCookie)("username"),(0,n.deleteCookie)("userorg"),this.username="",this.isLogin=!1;var e=document.getElementById("logoutIframe");e.onload=function(){location.href=location.protocol+"//"+location.host+"/pages/portal/index.html"},e.src="http://bjecm.cnnp.com.cn/pkmslogout"},fetchUsername:function(e){var t=this;$.ajax({url:e,type:"post",data:"",success:function(e){if(0==e.length){alert("用户名或密码错误!"),t.isLogin=!1;var i=document.getElementById("logoutIframe");return i.onload=function(){location.href=location.protocol+"//"+location.host+"/pages/portal/index.html"},void(i.src="http://bjecm.cnnp.com.cn/pkmslogout")}t.isLogin=!0;var o=e[0];t.username=o.displayName;var r=o.orgtree;(0,n.setCookie)("username",o.displayName,30,"/"),(0,n.setCookie)("userorg",r,30,"/")},error:function(e){console.log("error",e)}})}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,i,n,o,r){if(i){var a=new Date;a.setTime(a.getTime()+24*i*60*60*1e3);var s=a.toGMTString()}else var s="";var l=e+"="+escape(t);s&&(l+=";expires="+s),n&&(l+=";path="+escape(n)),o&&(l+=";domain="+escape(o)),r&&(l+=";secure="+r),document.cookie=l}function r(e){var t,i=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(i))?unescape(t[2]):null}function a(e){var t=new Date;t.setTime(t.getTime()-864e5),o(e,"",t,"/")}function s(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(t);return null!=i?unescape(i[2]):null}function l(){$.blockUI({message:"数据获取中，请稍候... ...",css:{border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:.5,color:"#fff"}})}function c(e,t){var i=function(e,i,n){t.list=e,t.successNext&&t.successNext()},n=function(e,t,i){console.log("error",e)},o={type:"get",url:e.URL+e.QueryString,success:i,error:n};"post"==e.METHOD&&(o={type:"post",url:e.URL+e.QueryString,data:e.PLAYLOAD,contentType:e.CONTENT_TYPE,success:i,error:n}),$.ajax(o)}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAjaxService=t.loadingCover=t.getQueryString=t.deleteCookie=t.getCookie=t.setCookie=t.add_supervision=t.fetch_sourceFromServer=t.fetch_areaFromServer=t.fetch_deptsFromServer=t.fetch_serviceByHttpProtocol=t.setSupervisionHeader=void 0;var p=i(5),d=n(p),h=window.interfaceSettings.supervisionRequest,u=function(e,t,i){return t||(t={stamp:(new Date).getTime()}),(i?e.replace("%id%",i):e)+"?"+(t?$.param($.extend({},h.header,t)):$.param(h.header))},f=function(e,t,i,n,o){"post"==t&&(i=(0,d["default"])(i)),$.ajax({url:e,type:t,data:i,contentType:"application/json",success:function(e,t,i){console.log("success"),n(e,t,i)},error:function(e,t,i){console.log("error"),o(e,t,i)}})},m=function(e,t){var i=u(h.api.deptUrl,null,e);f(i,"get",{},t,function(e,t,i){console.log(e)})},g=function(e){var t=u(h.api.supSourceUrl);f(t,"get",{},e,function(e,t,i){console.log(e)})},v=function(e){var t=u(h.api.supAreaUrl);f(t,"get",{},e,function(e,t,i){console.log(e)})},b=function(e,t){var i=u(h.api.supAddUrl);f(i,"post",e,t,function(e,t,i){console.log(e)})};t.setSupervisionHeader=u,t.fetch_serviceByHttpProtocol=f,t.fetch_deptsFromServer=m,t.fetch_areaFromServer=v,t.fetch_sourceFromServer=g,t.add_supervision=b,t.setCookie=o,t.getCookie=r,t.deleteCookie=a,t.getQueryString=s,t.loadingCover=l,t.fetchAjaxService=c},function(e,t,i){e.exports={"default":i(6),__esModule:!0}},function(e,t,i){var n=i(7),o=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},function(e,t){var i=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=i)},function(e,t,i){t=e.exports=i(1)(),t.push([e.id,".footer{background-color:#6a7986;height:95px;margin-top:2rem}.footer_content{width:490px;margin:0 auto;padding-top:10px;color:#fff}.sina{width:58px;height:65px;font-size:12px}.con,.sina{text-align:center;float:left}.con{width:245px;margin:0 0 0 60px}.weixin{height:65px;text-align:center;float:right;font-size:12px}",""])},function(e,t,i){t=e.exports=i(1)(),t.i(i(10),""),t.push([e.id,'*,article,div,li,p,section,td,ul{margin:0;padding:0}html{font-size:62.5%}body{font-size:1.4rem;font-family:microsoft yahei,Verdana,Arial,Helvetica,sans-serif;min-width:1024px;max-width:80%;margin:0 auto}h1{font-size:2.4rem}.navbar{width:100%;margin:0 auto}.navbar .container-fluid{position:relative;padding:0;background:#fff}.brand{float:left;width:25.8rem;height:5.2rem}.nav-list{list-style:none;float:left;border-left:1px solid #d3d3d3;font-size:14px;font-weight:400;color:#797979!important;cursor:pointer}.navbar-link.com-portal:hover{background:#00a2e5;color:#fff}.dep-portal:hover{background:#ffb341;color:#fff}.navbar-link.workbench:hover{background:#abcb27;color:#fff}.navbar-link{display:inline-block;height:100%;position:relative;padding:0 3rem;color:#797979;width:100%}.nav-list .navbar-link:hover{color:#fff;text-decoration:none}.nav-list .active{color:#06c}.nav-list-item{float:left;border-right:1px solid #d3d3d3;line-height:5.2rem;text-align:center;min-width:15rem}.user-container{border-left:none;text-align:center;width:17rem;float:right}@media screen and (min-width:1024px) and (max-width:1235px){.nav-action .search{padding-right:22px!important}}@media screen and (min-width:1024px) and (max-width:1350px){.nav-list-item{float:left;border-right:1px solid #d3d3d3;line-height:5.2rem;text-align:center;width:auto;min-width:0!important}.navbar-link{padding:0 2rem}.nav-action .search{min-width:0!important;border-right:none}.user-container{width:16rem}}.nav-action{float:right;line-height:3.2rem;font-size:1.6rem;font-weight:700;color:grey;margin-right:10px}.nav-action:after{display:inline-block;width:0;height:0;content:""}.nav-action .login{min-width:12rem;text-align:center}.nav-action .search{border-left:1px solid #d3d3d3;text-align:center;min-width:0!important}.nav-action .form-control{display:inline;width:12rem}.nav-action .search{padding-left:5%;padding-right:5%;border-right:none!important}.search input{width:70%}.user{overflow:hidden;height:4.2rem}.nav-link{position:relative}.nav-panel{background-color:#fff;display:none;left:0;top:0;position:absolute;margin-top:5.2rem;width:100%;height:16.5rem;z-index:1030;font-size:14px;font-weight:400;color:#797979!important;margin-left:0!important;margin-right:0!important;border:1px solid #d3d3d3;overflow:hidden}.nav-panel .title{margin-bottom:-2rem}.nav-panel ul{padding:0 2rem;list-style:none}.nav-panel .list-item{float:left;width:14%;text-align:center;margin-bottom:-1.5rem}.company .btn:hover{background-color:#00a2e5;color:#fff}.dept-subj .btn:hover{background-color:#ffb341;color:#fff}.dept-subj .list-item{width:25%}.list.dept{position:relative}.dept .split{position:absolute;top:0;right:0;height:16.4rem;border-right:1px solid #d3d3d3}.logo{width:100%;padding:1px;height:16.5rem}',""])},function(e,t,i){t=e.exports=i(1)(),t.push([e.id,".swiper-container{margin:0 auto;position:relative;overflow:hidden;direction:ltr;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-wrapper{position:relative;width:100%;-webkit-transition-property:-webkit-transform,left,top;-webkit-transition-duration:0s;-webkit-transform:translateZ(0);-webkit-transition-timing-function:ease;-moz-transition-property:-moz-transform,left,top;-moz-transition-duration:0s;-moz-transform:translateZ(0);-moz-transition-timing-function:ease;-o-transition-property:-o-transform,left,top;-o-transition-duration:0s;-o-transform:translateZ(0);-o-transition-timing-function:ease;-o-transform:translate(0);-ms-transition-property:-ms-transform,left,top;-ms-transition-duration:0s;-ms-transform:translateZ(0);-ms-transition-timing-function:ease;transition-property:transform,left,top;transition-duration:0s;transform:translateZ(0);transition-timing-function:ease;box-sizing:content-box}.swiper-free-mode>.swiper-wrapper{-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out;margin:0 auto}.swiper-slide{float:left;box-sizing:content-box}.swiper-wp8-horizontal{-ms-touch-action:pan-y}.swiper-wp8-vertical{-ms-touch-action:pan-x}",""])},function(e,t){e.exports='<div class=footer> <div class=footer_content> <div class=sina> <p><img :src="\'assets/images/portal/sina.jpg\'" width=50 height=50></p> <a style="color: #fff">新浪微博</a> </div> <div class=con> <p>运维支持：5484 5483</p> <p>技术支持：核工业计算机应用研究所 <br/>&nbsp&nbsp&nbsp&nbsp&nbsp核动力运行研究所</p> <p>版权所有：中国核能电力股份有限公司</p> </div> <div class=weixin> <p><img :src="\'assets/images/portal/weixin.jpg\'" width=50 height=50></p> <a style="color: #fff">微信公众平台</a> </div> </div> </div>'},function(e,t){e.exports='<div class="navbar navbar-default"> <div class="container-fluid nav-header"> <img class=brand :src="\'assets/images/portal/brand_big.png\'"/> <div class=nav-link id=navLink> <ul class=nav-list> <li class=nav-list-item id=comPortalNav> <a class="navbar-link com-portal" href=pages/portal/index.html>公司门户▼</a> <div class="nav-panel company"> <p class=title>公司门户</p> <ul class=list> <li class=list-item><a class=btn href=http://bjecm.cnnp.com.cn/newportal/news/home.action target=_blank>中国核电旧主页</a></li> <li class=list-item><a class=btn href=http://www.cnnc.com.cn target=_blank>中国核工业集团公司</a></li> <li class=list-item><a class=btn href=http://10.16.15.38 target=_blank>中核运行</a></li> <li class=list-item><a class=btn href="" target=_blank>中浙能源</a></li> <li class=list-item><a class=btn href=http://10.16.15.38:10039/wps/portal/Home/cnnc_index target=_blank>秦山(筹)</a></li> <li class=list-item><a class=btn href=# target=_blank>江苏核电</a></li> <li class=list-item><a class=btn href=# target=_blank>三门核电</a></li> </ul> <ul> <li class=list-item><a class=btn href=http://fqecm.cnnp.com.cn/wps/portal target=_blank>福清核电</a></li> <li class=list-item><a class=btn href=# target=_blank>海南核电</a></li> <li class=list-item><a class=btn href=# target=_blank>桃花江核电</a></li> <li class=list-item><a class=btn href=# target=_blank>辽宁核电</a></li> <li class=list-item><a class=btn href=http://fsecm.cnnp.com.cn/wps/portal target=_blank>三明核电</a></li> <li class=list-item><a class=btn href=http://zgecm.cnnp.com.cn/wps/portal target=_blank>漳州核电</a></li> <li class=list-item>&nbsp;</li> </ul> </div> </li> <li class="nav-list-item dept-subj" id=depPortalNav> <a class="navbar-link dep-portal">部门及专题门户▼</a> <div class="nav-panel row"> <div class="list dept col-md-6"> <div class=title>部门门户 <div style="position:absolute;top: 0;right:1rem"> <a @click="turnMenuPage(\'depts\',\'left\')" :class="[\'btn\',\'glyphicon\',\'glyphicon-arrow-left\',{\'disabled\':deptsCount<=12}]"></a> <a @click="turnMenuPage(\'depts\',\'right\')" :class="[\'btn\',\'glyphicon\',\'glyphicon-arrow-right\',{\'disabled\':deptsCount==deptsOrigin.length}]"></a> </div> </div> <ul v-for="n in (parseInt(depts.length/4)+(depts.length%4==0?0:1))"> <li v-for="m in n<parseInt(depts.length/4)?4:(depts.length%4)" class=list-item> <a class=btn v-text=depts[n*4+m].name :href="depts[n*4+m].webtype==\'0\'?(\'pages/portal/index.html?type=\'+depts[n*4+m].hptype+\'&node=\'+depts[n*4+m].id):depts[n*4+m].url"></a> </li> </ul> <div class=split></div> </div> <div class="list col-md-6"> <div class=title>专题门户 <div style="position:absolute;top: 0;right:1rem"> <a @click="turnMenuPage(\'themes\',\'left\')" :class="[\'btn\',\'glyphicon\',\'glyphicon-arrow-left\',{\'disabled\':themesCount<=12}]"></a> <a @click="turnMenuPage(\'themes\',\'right\')" :class="[\'btn\',\'glyphicon\',\'glyphicon-arrow-right\',{\'disabled\':themesCount==themesOrigin.length}]"> </a> </div> </div> <ul v-for="n in (parseInt(themes.length/4)+(themes.length%4==0?0:1))"> <li v-for="m in n<parseInt(themes.length/4)?4:themes.length%4" class=list-item> <a class=btn v-text=themes[n*4+m].name :href="themes[n*4+m].webtype==\'0\'?(\'pages/portal/index.html?type=\'+themes[n*4+m].hptype+\'&node=\'+themes[n*4+m].id):themes[n*4+m].url"> </a> </li> </ul> </div> </div> </li> <li class=nav-list-item><a @click=gotoWorkbench class="navbar-link workbench">个人工作台</a></li> </ul> </div> <div class=nav-action id=nav-action> <div class="nav-list-item search"><input @keyup.enter=doSearch type=text class=form-control placeholder=搜索 v-model=searchInputVal /> </div> </div> <iframe id=logoutIframe hidden=hidden></iframe> <div class=user-container v-if=isLogin style="border-left: 1px solid lightgrey"> <div class=user v-text=username style="float: left;width: 60%;line-height: 4.2rem;text-align: right;border-right: 1px solid lightgrey;margin: 5px 0;text-align: center"></div> <div class=logout style="text-align: center;float: left;width: 40%;line-height: 4.2rem;text-align: left;margin: 5px 0"> <a class=btn @click=loginOut>登出</a> </div> </div> <div v-else class=login style="line-height: 4.2rem; float: right;border-left: 1px solid lightgrey"> <a @click=loginIn class=btn style="line-height: 3.8rem">登录</a> </div> </div> </div> <div :id=swiper_id class=swiper-container style="width: 100%"> <div class=swiper-wrapper> <div v-for="n in 3" class=swiper-slide> <img :src="\'assets/images/portal/portal-logo\'+n+\'.jpg\'" class=logo /> </div> </div> </div>'},function(e,t,i){var n,o;i(15),o=i(11),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t,i){var n,o;i(16),n=i(3),o=i(12),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t,i){var n=i(8);"string"==typeof n&&(n=[[e.id,n,""]]),i(2)(n,{}),n.locals&&(e.exports=n.locals)},function(e,t,i){var n=i(9);"string"==typeof n&&(n=[[e.id,n,""]]),i(2)(n,{}),n.locals&&(e.exports=n.locals)}]);